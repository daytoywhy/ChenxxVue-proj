import{m as M}from"./message.4b3718a2.js";import{_ as I,d as N,i as O,t as V,a as n,o as m,I as _,w as o,e as t,u as e,M as q,c as L,H as j,k as F,l as S,G as T,D as G,J as H}from"./index.136adf48.js";const J=F(" \u53D6 \u6D88 "),w=F(" \u786E \u5B9A "),z=N({__name:"AddOrEdit",props:{roleList:{type:Array,require:!0,default:()=>[]}},emits:["refresh"],setup(g,{expose:x,emit:D}){const k=g,s=O({form:{},formRef:null,visible:!1,title:"",rules:{username:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],account:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u8D26\u53F7"}]}}),B=a=>{a!=null&&a.id?(s.title="\u7F16\u8F91",H(()=>{s.form=Object.assign({},a)})):s.title="\u6DFB\u52A0",s.visible=!0},f=()=>{s.formRef.resetFields(),s.visible=!1},v=()=>{s.formRef.validate(async a=>{!a||(M("\u6A21\u62DF\u65B0\u589E\u6210\u529F"),D("refresh"),f())})};x({init:B});const{roleList:C}=V(k),{formRef:E,form:r,visible:p,title:c,rules:y}=V(s);return(a,l)=>{const i=n("el-input"),d=n("el-form-item"),A=n("el-checkbox"),R=n("el-checkbox-group"),U=n("el-form"),b=n("el-button"),h=n("el-dialog");return m(),_(h,{modelValue:e(p),"onUpdate:modelValue":l[5]||(l[5]=u=>G(p)?p.value=u:null),title:e(c),width:"500px",onClose:f},{footer:o(()=>[t(b,{onClick:f},{default:o(()=>[J]),_:1}),t(b,{onClick:v,type:"primary"},{default:o(()=>[w]),_:1})]),default:o(()=>[t(U,{ref_key:"formRef",ref:E,"label-width":"80px",model:e(r),rules:e(y)},{default:o(()=>[t(d,{label:"\u7528\u6237\u540D",prop:"username"},{default:o(()=>[t(i,{modelValue:e(r).username,"onUpdate:modelValue":l[0]||(l[0]=u=>e(r).username=u),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),t(d,{label:"\u8D26\u53F7",prop:"account"},{default:o(()=>[t(i,{modelValue:e(r).account,"onUpdate:modelValue":l[1]||(l[1]=u=>e(r).account=u),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),t(d,{label:"\u4FE1\u606F",prop:"info"},{default:o(()=>[t(i,{modelValue:e(r).info,"onUpdate:modelValue":l[2]||(l[2]=u=>e(r).info=u),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),e(c)=="\u7F16\u8F91"?(m(),_(d,{key:0,label:"\u66F4\u65B0\u65F6\u95F4",prop:"datetime"},{default:o(()=>[t(i,{disabled:e(c)=="\u7F16\u8F91",modelValue:e(r).datetime,"onUpdate:modelValue":l[3]||(l[3]=u=>e(r).datetime=u),modelModifiers:{trim:!0}},null,8,["disabled","modelValue"])]),_:1})):q("",!0),t(d,{label:"\u89D2\u8272",prop:"roleIds"},{default:o(()=>[t(R,{modelValue:e(r).roleIds,"onUpdate:modelValue":l[4]||(l[4]=u=>e(r).roleIds=u)},{default:o(()=>[(m(!0),L(T,null,j(e(C),u=>(m(),_(A,{key:u.id,label:u.id},{default:o(()=>[F(S(u.roleName),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});var Q=I(z,[["__file","/Users/chenxiangxiong/Desktop/\u9879\u76EE\u6C47\u603B/\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF/ChenxxVue-proj/src/views/system/user/components/AddOrEdit.vue"]]);export{Q as default};
