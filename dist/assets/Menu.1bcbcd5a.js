import{_ as z,d as L,r as k,i as S,t as $,a as r,o as i,c as f,b as v,e,w as t,u as a,bF as E,bI as w,l as j,I as _,bJ as H,k as l,bK as J,bL as D}from"./index.136adf48.js";import{m as B,a as K}from"./message.4b3718a2.js";import U from"./AddOrEdit.feed6268.js";const q={id:"menu-container"},G=l("\u6DFB\u52A0"),P=l("\u5C55\u5F00\u5168\u90E8"),Q=l("\u6298\u53E0\u5168\u90E8"),W=l("\u6279\u91CF\u5220\u9664"),X=l("\u76EE\u5F55"),Y=l("\u83DC\u5355"),Z=l("\u9690\u85CF"),ee={key:1},te=l("\u9690\u85CF"),ne={key:1},ue=l("\u662F"),oe={key:1},ie=l("\u662F"),ae={key:1},le=L({__name:"Menu",setup(se){const h=k(),m=k(),s=S({tableTreeConfig:{parentField:"parentId",iconOpen:"iconfont icon-suo",iconClose:"iconfont icon-shangxiazhankai"},loading:!1,total:0,tableData:[],selectIds:[],menuOptions:[]}),A=()=>{var n;(n=m.value)==null||n.setAllTreeExpand(!0)},b=()=>{var n;(n=m.value)==null||n.clearTreeExpand()},F=async()=>{s.loading=!0;const{data:{routers:n}}=await J.getRouter();s.tableData=n,s.loading=!1};F();const g=n=>{s.selectIds=[];const p=n.records;for(const{id:d}of p)s.selectIds.push(d)},C=n=>{n!=null&&n.id?D.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5F53\u524D\u9879\u5417\uFF1F","\u6E29\u99A8\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{B("\u6A21\u62DF\u5220\u9664\u6210\u529F")}).catch(()=>{}):s.selectIds.length>0?D.confirm("\u60A8\u786E\u5B9A\u8981\u6279\u91CF\u5220\u9664\u5DF2\u9009\u9879\u5417\uFF1F","\u6E29\u99A8\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{B("\u6A21\u62DF\u5220\u9664\u6210\u529F")}).catch(()=>{}):K("\u672A\u9009\u4E2D\u4EFB\u4F55\u884C")},y=n=>{s.menuOptions=[];const p={id:"0",title:"\u6839\u76EE\u5F55",parentId:null};s.menuOptions=[{...p,children:x.value}],n!=null&&n.id?h.value.init(n):h.value.init()},{tableData:x,loading:T,total:de,tableTreeConfig:I,menuOptions:O}=$(s);return(n,p)=>{const d=r("el-button"),M=r("el-form-item"),R=r("el-form"),o=r("vxe-column"),c=r("el-tag"),N=r("vxe-table");return i(),f("div",q,[v("div",null,[e(R,{class:"action",inline:!0},{default:t(()=>[e(M,null,{default:t(()=>[e(d,{icon:a(E),plain:"",onClick:y,type:"primary"},{default:t(()=>[G]),_:1},8,["icon"]),e(d,{icon:a(E),plain:"",onClick:A,type:"primary"},{default:t(()=>[P]),_:1},8,["icon"]),e(d,{icon:a(E),plain:"",onClick:b,type:"primary"},{default:t(()=>[Q]),_:1},8,["icon"]),e(d,{icon:a(w),plain:"",onClick:C,type:"danger"},{default:t(()=>[W]),_:1},8,["icon"])]),_:1})]),_:1})]),e(N,{border:"","show-overflow":"",align:"center",loading:a(T),ref_key:"xTree",ref:m,"tree-config":a(I),"row-config":{isHover:!0},data:a(x),onCheckboxChange:g,onCheckboxAll:g},{default:t(()=>[e(o,{type:"checkbox",width:"60",fixed:"left"}),e(o,{title:"\u83DC\u5355\u540D\u79F0",align:"left","tree-node":"",width:"260",field:"title",fixed:"left"},{default:t(({row:u})=>[v("span",null,j(u.title),1)]),_:1}),e(o,{title:"\u83DC\u5355\u7C7B\u578B",width:"80",field:"menuType"},{default:t(({row:u})=>[u.menuType==0?(i(),_(c,{key:0},{default:t(()=>[X]),_:1})):(i(),_(c,{key:1},{default:t(()=>[Y]),_:1}))]),_:1}),e(o,{title:"\u8BBF\u95EE\u8DEF\u7531",align:"left",width:"200",field:"path"}),e(o,{title:"\u7EC4\u4EF6\u8DEF\u5F84",align:"left",width:"200","show-overflow":"",field:"component"}),e(o,{title:"\u56FE\u6807",field:"icon","min-width":"200"}),e(o,{title:"\u9690\u85CF\u4FA7\u8FB9\u680F",width:"80",field:"hideInMenu"},{default:t(({row:u})=>[u.hideInMenu?(i(),_(c,{key:0,type:"warning"},{default:t(()=>[Z]),_:1})):(i(),f("span",ee,"\u663E\u793A"))]),_:1}),e(o,{title:"\u9762\u5305\u5C51",width:"80","show-overflow":"",field:"hideInBread"},{default:t(({row:u})=>[u.hideInBread?(i(),_(c,{key:0,type:"warning"},{default:t(()=>[te]),_:1})):(i(),f("span",ne,"\u663E\u793A"))]),_:1}),e(o,{title:"\u4E0D\u53EF\u5173\u95ED\u6807\u7B7E",width:"120","show-overflow":"",field:"noCloseTab"},{default:t(({row:u})=>[u.noCloseTab?(i(),_(c,{key:0,type:"warning"},{default:t(()=>[ue]),_:1})):(i(),f("span",oe,"\u5426"))]),_:1}),e(o,{title:"\u65B0\u589E",width:"80","show-overflow":"",field:"isNew"},{default:t(({row:u})=>[u.isNew?(i(),_(c,{key:0,type:"warning"},{default:t(()=>[ie]),_:1})):(i(),f("span",ae,"\u5426"))]),_:1}),e(o,{title:"\u6392\u5E8F",width:"80","show-overflow":"",field:"sort"}),e(o,{title:"\u64CD\u4F5C",fixed:"right","min-width":"200"},{default:t(({row:u})=>[e(d,{icon:a(H),onClick:V=>y(u),plain:"",size:"small",type:"primary"},null,8,["icon","onClick"]),e(d,{icon:a(w),onClick:V=>C(u),plain:"",size:"small",type:"danger"},null,8,["icon","onClick"])]),_:1})]),_:1},8,["loading","tree-config","data"]),e(U,{ref_key:"AddOrEditRef",ref:h,data:a(O),onRefresh:F},null,8,["data"])])}}});var fe=z(le,[["__scopeId","data-v-0abdace9"],["__file","/Users/chenxiangxiong/Desktop/\u9879\u76EE\u6C47\u603B/\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF/ChenxxVue-proj/src/views/system/menu/Menu.vue"]]);export{fe as default};
