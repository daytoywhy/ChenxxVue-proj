import{m as N,_ as O,d as j,Q as U,h as z,R as G,L as H,r as Q,S as q,A as J,a as c,o as R,c as T,e as l,w as i,G as K,H as M,I as P,u as W,p as X,g as Y,b as n,k as m}from"./index.136adf48.js";const Z=N("tab",{state:()=>({visitedRouteList:[]}),getters:{getVisitedRouteList(){return this.visitedRouteList.filter(e=>e.name!=="login")}},actions:{addVisitedRoute(e){this.visitedRouteList.find(s=>s.name==e.name)||this.visitedRouteList.push(Object.assign({},e))},delVisitedRoute(e){this.visitedRouteList.splice(this.visitedRouteList.findIndex(t=>t.path==e),1)},delOtherRoute(e){this.visitedRouteList=this.visitedRouteList.filter(t=>t.meta.noCloseTab||t.path==e)},delLeftRoute(e){let t=!1;this.visitedRouteList=this.visitedRouteList.filter(s=>(s.path==e&&(t=!0),s.meta.noCloseTab||t))},delRightRoute(e){let t=!1;this.visitedRouteList=this.visitedRouteList.filter(s=>{const r=t;return s.path==e&&(t=!0),s.meta.noCloseTab||!r})},delAllRoute(){this.visitedRouteList=this.visitedRouteList.filter(e=>e.meta.noCloseTab)}}});const d=e=>(X("data-v-787cb91c"),e=e(),Y(),e),$={class:"app-tabs"},ee=d(()=>n("span",{class:"tabs-more"},[n("span",{class:"tabs-more-icon"},[n("i",{class:"box box-t"}),n("i",{class:"box box-b"})])],-1)),te=d(()=>n("i",{class:"iconfont icon-guanbi"},null,-1)),oe=m("\u5173\u95ED\u5176\u4ED6"),se=d(()=>n("i",{class:"iconfont icon-jiantou_xiangzuo"},null,-1)),ae=m("\u5173\u95ED\u5DE6\u4FA7"),ie=d(()=>n("i",{class:"iconfont icon-jiantou_xiangyou"},null,-1)),ne=m("\u5173\u95ED\u53F3\u4FA7"),le=d(()=>n("i",{class:"iconfont icon-guanbi"},null,-1)),ue=m("\u5173\u95ED\u5168\u90E8"),ce=j({__name:"AppTab",setup(e){const t=U(),s=z(),r=Z(),x=G(),{routes:C}=H(x),{addVisitedRoute:w,delVisitedRoute:V,delOtherRoute:k,delLeftRoute:A,delRightRoute:E,delAllRoute:S}=r,b=Q(""),f=q(()=>r.getVisitedRouteList),v=o=>{for(const a of o){const{meta:p,children:_}=a;p&&p.noCloseTab&&L(a),_&&v(_)}},L=o=>{w(o),b.value=o.path},D=(o,a)=>{s.push(f.value[o.index])},B=o=>{g(),V(o)},g=()=>{const o=f.value.filter(a=>a.path!=t.path).slice(-1)[0];o?s.push(o):s.push("/")};v(C.value);const F=o=>{switch(o){case"closeOther":k(t.path);break;case"closeLeft":A(t.path);break;case"closeRight":E(t.path);break;case"closeAll":S(),g();break}};return J(()=>t.path,()=>L(t),{immediate:!0}),(o,a)=>{const p=c("el-tab-pane"),_=c("el-tabs"),h=c("el-dropdown-item"),y=c("el-dropdown-menu"),I=c("el-dropdown");return R(),T("div",$,[l(_,{type:"card",class:"app-tabs-content",modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=u=>b.value=u),onTabClick:D,onTabRemove:B},{default:i(()=>[(R(!0),T(K,null,M(W(f),u=>(R(),P(p,{key:u.path,label:u.meta.title,name:u.path,closable:!u.meta.noCloseTab},null,8,["label","name","closable"]))),128))]),_:1},8,["modelValue"]),l(I,{placement:"top",onCommand:F},{dropdown:i(()=>[l(y,null,{default:i(()=>[l(h,{command:"closeOther"},{default:i(()=>[te,oe]),_:1}),l(h,{command:"closeLeft"},{default:i(()=>[se,ae]),_:1}),l(h,{command:"closeRight"},{default:i(()=>[ie,ne]),_:1}),l(h,{command:"closeAll"},{default:i(()=>[le,ue]),_:1})]),_:1})]),default:i(()=>[ee]),_:1})])}}});var re=O(ce,[["__scopeId","data-v-787cb91c"],["__file","/Users/chenxiangxiong/Desktop/\u9879\u76EE\u6C47\u603B/\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF/ChenxxVue-proj/src/views/layout/components/tab/AppTab.vue"]]);export{re as default};
