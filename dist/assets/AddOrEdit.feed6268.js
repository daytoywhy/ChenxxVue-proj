import{m as S}from"./message.4b3718a2.js";import{_ as j,d as J,i as P,t as D,a as i,o as _,I as p,w as e,e as u,u as t,M as c,D as G,k as a,b,J as H}from"./index.136adf48.js";const K=a(" \u76EE\u5F55 "),L=a(" \u83DC\u5355 "),Q=a(" \u6309\u94AE "),W=b("i",{class:"iconfont icon-xinxi"},null,-1),X=a(" \u8DEF\u7531\u53C2\u6570 "),Y=b("i",{class:"iconfont icon-xinxi"},null,-1),Z=a(" \u4FA7\u8FB9\u83DC\u5355 "),$=a(" \u663E\u793A "),ee=a(" \u9690\u85CF "),ue=b("i",{class:"iconfont icon-xinxi"},null,-1),te=a(" \u9762\u5305\u5C51 "),le=a(" \u663E\u793A "),oe=a(" \u9690\u85CF "),ne=b("i",{class:"iconfont icon-xinxi"},null,-1),ae=a(" tab\u6807\u7B7E\u9875 "),de=a(" \u53EF\u5173\u95ED "),se=a(" \u4E0D\u53EF\u5173\u95ED "),ie=b("i",{class:"iconfont icon-xinxi"},null,-1),re=a(" \u662F\u5426\u65B0\u589E "),me=a(" \u662F "),_e=a(" \u5426 "),pe=b("i",{class:"iconfont icon-xinxi"},null,-1),fe=a(" \u6743\u9650\u5B57\u7B26 "),ce=a(" \u53D6 \u6D88 "),Fe=a(" \u786E \u5B9A "),Ee=J({__name:"AddOrEdit",props:{data:{type:Array,default:()=>[]}},emits:["refresh"],setup(A,{expose:h,emit:x}){const T=A,f=P({form:{id:"",parentId:"0",path:"",name:"",component:"",redirect:"",title:"",icon:"",frameSrc:"",hideInMenu:!1,hideInBread:!1,noCloseTab:!1,sort:1,isNew:!0,menuType:0,auth:"",query:"",children:null},formRef:null,visible:!1,title:"",rules:{title:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0"}]}}),k=r=>{r!=null&&r.id?(f.title="\u7F16\u8F91",H(()=>{f.form=Object.assign({},r)})):f.title="\u6DFB\u52A0",f.visible=!0},B=()=>{f.formRef.resetFields(),f.visible=!1},v=r=>{f.form.parentId=r==null?void 0:r.id},U=()=>{f.formRef.validate(async r=>{!r||(S("\u6A21\u62DF\u65B0\u589E\u6210\u529F"),x("refresh"),B())})};h({init:k});const{data:g}=D(T),{formRef:I,form:l,visible:C,title:M,rules:N}=D(f);return(r,o)=>{const w=i("my-tree"),d=i("el-form-item"),s=i("el-col"),m=i("el-radio"),V=i("el-radio-group"),F=i("el-input"),E=i("el-tooltip"),R=i("el-input-number"),z=i("el-row"),q=i("el-form"),y=i("el-button"),O=i("el-dialog");return _(),p(O,{modelValue:t(C),"onUpdate:modelValue":o[14]||(o[14]=n=>G(C)?C.value=n:null),title:t(M),width:"660px",onClose:B},{footer:e(()=>[u(y,{onClick:B},{default:e(()=>[ce]),_:1}),u(y,{onClick:U,type:"primary"},{default:e(()=>[Fe]),_:1})]),default:e(()=>[u(q,{ref_key:"formRef",ref:I,"label-width":"auto",model:t(l),rules:t(N)},{default:e(()=>[u(z,{gutter:16},{default:e(()=>[u(s,{span:24},{default:e(()=>[u(d,{label:"\u4E0A\u7EA7\u83DC\u5355"},{default:e(()=>[u(w,{modelValue:t(l).parentId,"onUpdate:modelValue":o[0]||(o[0]=n=>t(l).parentId=n),defaultProps:{label:"title",value:"id",children:"children"},treeData:t(g),onSelect:o[1]||(o[1]=n=>v(n))},null,8,["modelValue","treeData"])]),_:1})]),_:1}),u(s,{span:24},{default:e(()=>[u(d,{label:"\u83DC\u5355\u7C7B\u578B",prop:"menuType"},{default:e(()=>[u(V,{modelValue:t(l).menuType,"onUpdate:modelValue":o[2]||(o[2]=n=>t(l).menuType=n)},{default:e(()=>[u(m,{label:0},{default:e(()=>[K]),_:1}),u(m,{label:1},{default:e(()=>[L]),_:1}),u(m,{label:2},{default:e(()=>[Q]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(l).menuType!=2?(_(),p(s,{key:0,span:12},{default:e(()=>[u(d,{label:"\u83DC\u5355\u540D\u79F0",prop:"title"},{default:e(()=>[u(F,{modelValue:t(l).title,"onUpdate:modelValue":o[3]||(o[3]=n=>t(l).title=n),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),u(s,{span:12},{default:e(()=>[u(d,{label:"\u83DC\u5355\u56FE\u6807",prop:"icon"},{default:e(()=>[u(F,{modelValue:t(l).icon,"onUpdate:modelValue":o[4]||(o[4]=n=>t(l).icon=n),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),_:1}),t(l).menuType!=2?(_(),p(s,{key:1,span:24},{default:e(()=>[u(d,{label:"\u7EC4\u4EF6\u8DEF\u5F84",prop:"component"},{default:e(()=>[u(F,{modelValue:t(l).component,"onUpdate:modelValue":o[5]||(o[5]=n=>t(l).component=n),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u8DEF\u5F84"},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),t(l).menuType!=2?(_(),p(s,{key:2,span:12},{default:e(()=>[u(d,{label:"\u8DEF\u7531\u5730\u5740",prop:"path"},{default:e(()=>[u(F,{modelValue:t(l).path,"onUpdate:modelValue":o[6]||(o[6]=n=>t(l).path=n),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u8DEF\u7531\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),t(l).menuType==1?(_(),p(s,{key:3,span:12},{default:e(()=>[u(d,{prop:"query"},{label:e(()=>[u(E,{content:'\u8BBF\u95EE\u8DEF\u7531\u7684\u9ED8\u8BA4\u4F20\u9012\u53C2\u6570\uFF0C\u5982\uFF1A`{"id":1,"name":"xxx"}`',placement:"bottom",effect:"customized"},{default:e(()=>[W]),_:1}),X]),default:e(()=>[u(F,{modelValue:t(l).query,"onUpdate:modelValue":o[7]||(o[7]=n=>t(l).query=n),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u8DEF\u7531\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),u(s,{span:12},{default:e(()=>[u(d,{label:"\u663E\u793A\u6392\u5E8F",prop:"sort"},{default:e(()=>[u(R,{modelValue:t(l).sort,"onUpdate:modelValue":o[8]||(o[8]=n=>t(l).sort=n),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),_:1}),t(l).menuType!=2?(_(),p(s,{key:4,span:12},{default:e(()=>[u(d,{prop:"hideInMenu"},{label:e(()=>[u(E,{content:"\u9009\u62E9\u9690\u85CF\u5C06\u4E0D\u4F1A\u51FA\u73B0\u5728\u4FA7\u8FB9\u83DC\u5355\u680F",placement:"bottom",effect:"customized"},{default:e(()=>[Y]),_:1}),Z]),default:e(()=>[u(V,{modelValue:t(l).hideInMenu,"onUpdate:modelValue":o[9]||(o[9]=n=>t(l).hideInMenu=n)},{default:e(()=>[u(m,{label:!0},{default:e(()=>[$]),_:1}),u(m,{label:!1},{default:e(()=>[ee]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):c("",!0),t(l).menuType!=2?(_(),p(s,{key:5,span:12},{default:e(()=>[u(d,{prop:"hideInBread"},{label:e(()=>[u(E,{content:"\u63A7\u5236\u5728\u9762\u5305\u5C51\u5BFC\u822A\u4E2D\u662F\u5426\u663E\u793A\u8BE5\u83DC\u5355\u540D",placement:"bottom",effect:"customized"},{default:e(()=>[ue]),_:1}),te]),default:e(()=>[u(V,{modelValue:t(l).hideInBread,"onUpdate:modelValue":o[10]||(o[10]=n=>t(l).hideInBread=n)},{default:e(()=>[u(m,{label:!0},{default:e(()=>[le]),_:1}),u(m,{label:!1},{default:e(()=>[oe]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):c("",!0),t(l).menuType===1?(_(),p(s,{key:6,span:12},{default:e(()=>[u(d,{prop:"noCloseTab"},{label:e(()=>[u(E,{content:"\u63A7\u5236\u662F\u5426\u5728tab\u680F\u663E\u793A\u8BE5\u9875\u7B7E",placement:"bottom",effect:"customized"},{default:e(()=>[ne]),_:1}),ae]),default:e(()=>[u(V,{modelValue:t(l).noCloseTab,"onUpdate:modelValue":o[11]||(o[11]=n=>t(l).noCloseTab=n)},{default:e(()=>[u(m,{label:!0},{default:e(()=>[de]),_:1}),u(m,{label:!1},{default:e(()=>[se]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):c("",!0),t(l).menuType!=2?(_(),p(s,{key:7,span:12},{default:e(()=>[u(d,{prop:"isNew"},{label:e(()=>[u(E,{content:"\u8BBE\u7F6E\u4E3A\u65B0\u589E\u4F1A\u5728\u83DC\u5355\u680F\u4E0A\u663E\u793Anew\u6807\u8BC6",placement:"bottom",effect:"customized"},{default:e(()=>[ie]),_:1}),re]),default:e(()=>[u(V,{modelValue:t(l).isNew,"onUpdate:modelValue":o[12]||(o[12]=n=>t(l).isNew=n)},{default:e(()=>[u(m,{label:!0},{default:e(()=>[me]),_:1}),u(m,{label:!1},{default:e(()=>[_e]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):c("",!0),t(l).menuType==2?(_(),p(s,{key:8,span:12},{default:e(()=>[u(d,{prop:"auth"},{label:e(()=>[u(E,{content:"\u6743\u9650\u5B57\u7B26\u683C\u5F0F\uFF0C\u53C2\u7167`system:user:delete`",placement:"bottom",effect:"customized"},{default:e(()=>[pe]),_:1}),fe]),default:e(()=>[u(F,{modelValue:t(l).auth,"onUpdate:modelValue":o[13]||(o[13]=n=>t(l).auth=n),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u6743\u9650\u5B57\u7B26"},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});var Be=j(Ee,[["__file","/Users/chenxiangxiong/Desktop/\u9879\u76EE\u6C47\u603B/\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF/ChenxxVue-proj/src/views/system/menu/components/AddOrEdit.vue"]]);export{Be as default};
